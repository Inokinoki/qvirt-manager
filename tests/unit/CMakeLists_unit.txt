cmake_minimum_required(VERSION 3.16)

# Enable testing
enable_testing()

# Qt test package
find_package(Qt${QT_VERSION_MAJOR}Test REQUIRED)

# Add test executable
add_executable(test_core
    test_core.cpp
)

target_link_libraries(test_core
    PRIVATE
        Qt${QT_VERSION_MAJOR}::Test
        Qt${QT_VERSION_MAJOR}::Widgets
        qvirt-core
)

# Discover tests
include(QtTest)
add_test(NAME TestCore COMMAND test_core)
